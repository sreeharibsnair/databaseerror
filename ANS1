CREATE DATABASE COMPANY_DB;
USE COMPANY_DB;

CREATE TABLE EMPLOYEE (
    emp_id INT,
    name VARCHAR(50),
    city VARCHAR(50),
    dob DATE,
    adhar_no VARCHAR(20)
);
DESC EMPLOYEE;

CREATE TABLE STUDENT (
    roll_no INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    age INT NOT NULL CHECK (age BETWEEN 0 AND 99),
    address VARCHAR(100),
    gender CHAR(1) DEFAULT 'm'
);
DESC STUDENT;

CREATE TEMPORARY TABLE STUDENT1
SELECT * FROM STUDENT;
DESC STUDENT1;

CREATE TABLE EMPLOYEE_DUP
SELECT * FROM EMPLOYEE;
DESC EMPLOYEE_DUP;

CREATE DATABASE INVOICE;
USE INVOICE;

CREATE TABLE Customer (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    address VARCHAR(100),
    city VARCHAR(50),
    ph_no VARCHAR(15)
);
DESC Customer;

CREATE TABLE Product (
    pid INT PRIMARY KEY,
    pname VARCHAR(50),
    price DECIMAL(8,2) DEFAULT 0
);
DESC Product;

CREATE TABLE Invoice_master (
    inv_id INT PRIMARY KEY,
    cust_id INT,
    inv_date DATE,
    FOREIGN KEY (cust_id) REFERENCES Customer(id)
);
DESC Invoice_master;

CREATE TABLE Invoice_item (
    inv_id INT,
    pid INT,
    quantity INT,
    FOREIGN KEY (inv_id) REFERENCES Invoice_master(inv_id),
    FOREIGN KEY (pid) REFERENCES Product(pid)
);
DESC Invoice_item;

USE COMPANY_DB;

ALTER TABLE EMPLOYEE
ADD SSN VARCHAR(20) FIRST;
DESC EMPLOYEE;

ALTER TABLE EMPLOYEE
MODIFY dob YEAR;
DESC EMPLOYEE;

ALTER TABLE EMPLOYEE
DROP COLUMN emp_id;
DESC EMPLOYEE;

ALTER TABLE EMPLOYEE
ADD CONSTRAINT unique_ssn_adhar UNIQUE (SSN, adhar_no);
DESC EMPLOYEE;

ALTER TABLE STUDENT
MODIFY age INT NULL;
DESC STUDENT;

ALTER TABLE EMPLOYEE
RENAME TO PERSON;
DESC PERSON;

DROP TABLE STUDENT1;
